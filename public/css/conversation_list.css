/* conversation_list.css */

/* --- Base wrapper --- */
.convo-page{
  width:100%;
  max-width:var(--max-width,1100px);
  display:flex;
  flex-direction:column;
  gap:22px;
  margin: 0 auto;
  box-sizing:border-box;
  color: var(--text);
}

/* --- Top Header Card --- */
.info-card{
  width:100%;
  background: linear-gradient(180deg, rgba(255,184,77,0.03), rgba(232,92,65,0.02)); /* keep warm accent highlight */
  border-radius:var(--card-radius);
  box-shadow:var(--shadow-soft);
  border:1px solid var(--border-1);
  padding:20px 26px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  flex-wrap:wrap;
}
.info-card h1{
  font-size:22px;
  font-weight:800;
  color:var(--accent-warm);
  margin:0;
}
.info-card a{
  text-decoration:none;
  background: linear-gradient(180deg, rgba(255,255,255,0), rgba(255,255,255,0.08));
  padding:10px 16px;
  border-radius:10px;
  color: var(--text);
  font-weight:700;
  border:1px solid var(--border-1);
  box-shadow:0 8px 20px rgba(0,0,0,0.12);
  transition:all .12s ease;
}
.info-card a:hover{
  background: linear-gradient(180deg, var(--accent-warm), var(--accent-warm-2));
  color: #000;
  transform:translateY(-1px);
  filter:brightness(1.06);
}

/* --- Main Card / Table --- */
.main-card{
  background: var(--card-bg);
  border-radius:var(--card-radius);
  box-shadow:0 14px 36px rgba(0,0,0,0.45);
  border:1px solid var(--border-1);
  padding:20px 22px;
  width:100%;
  overflow:auto;
  color: var(--text);
}

/* Table basics */
.main-card table{
  width:100%;
  border-collapse:collapse;
  font-size:15px;
  color:var(--text);
}
.main-card thead th{
  text-align:left;
  font-weight:700;
  color:var(--accent-warm-2);
  padding:12px 14px;
  border-bottom:1px solid var(--border-1);
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
}
.main-card td{
  padding:12px 14px;
  border-bottom:1px solid var(--border-2);
  color:var(--muted);
  vertical-align:middle;
  background: transparent;
}

/* Row status styles (keeps original colored gradients but respects theme) */
tr.open td{
  background: linear-gradient(180deg, rgba(43,71,47,0.45), rgba(20,20,20,0.06));
  color: var(--text);
}
tr.closed td{
  background: linear-gradient(180deg, rgba(92,51,36,0.36), rgba(20,20,20,0.04));
  color: var(--text);
}

/* --- Buttons (use theme variables) --- */
.btn{
  padding:8px 12px;
  border-radius:10px;
  font-weight:700;
  display:inline-block;
  cursor:pointer;
  transition:transform .12s ease, box-shadow .12s ease, filter .12s ease;
  box-shadow: 0 8px 18px rgba(0,0,0,0.25);
  border: 1px solid transparent;
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  color: var(--text);
}

/* Open / primary action */
.btn-open{
  background: linear-gradient(90deg, rgba(255,255,255,0), rgba(255,255,255,0.06));
  color: var(--accent-warm-2);
  border: 1px solid var(--border-1);
  box-shadow: 0 8px 18px rgba(0,0,0,0.18);
}
.btn-open:hover{
  transform:translateY(-2px);
  filter:brightness(1.02);
  background: linear-gradient(90deg, var(--accent-warm), var(--accent-warm-2));
  color: #111;
}

/* View / danger action */
.btn-view{
  background: linear-gradient(90deg, rgba(255,255,255,0), rgba(255,255,255,0.06));
  color: var(--accent-warm-red);
  border: 1px solid var(--border-1);
  box-shadow: 0 8px 18px rgba(0,0,0,0.12);
}
.btn-view:hover{
  transform:translateY(-2px);
  filter:brightness(1.02);
  background: linear-gradient(90deg, var(--accent-warm-red), var(--accent-warm));
  color: #111;
}

/* Row hover */
.main-card tbody tr{ transition:background .14s ease, transform .12s ease; }
.main-card tbody tr:hover{ transform:translateY(-3px); box-shadow:0 12px 30px rgba(0,0,0,0.25); }

/* --- Responsive: table -> stacked cards --- */
@media (max-width:800px){
  .info-card{flex-direction:column;gap:10px;text-align:center;}
  .info-card h1{font-size:20px;}
  .info-card a{margin-top:4px;}
  .main-card{padding:16px;}

  /* hide header row, convert each tr into a block card */
  .main-card thead{ display:none; }
  .main-card table, .main-card tbody, .main-card tr, .main-card td {
    display:block;
    width:100%;
  }
  .main-card tr{
    margin-bottom:12px;
    border-radius:var(--card-radius);
    padding:12px;
    box-shadow:0 6px 18px rgba(0,0,0,0.18);
    border:1px solid var(--border-1);
    background: var(--card-bg);
  }
  .main-card td{
    padding:10px 8px;
    border-bottom:none;
    display:flex;
    justify-content:space-between;
    align-items:center;
    gap:12px;
    font-size:14px;
    color:var(--muted);
  }
  .main-card td + td { margin-top:6px; }

  .main-card td::before{
    content:attr(data-label);
    display:inline-block;
    width:36%;
    min-width:95px;
    font-weight:700;
    color:var(--accent-warm-2);
    text-transform:capitalize;
    font-size:13px;
  }

  .main-card .actions-wrap{
    display:flex;
    width:100%;
    justify-content:flex-end;
  }
  .main-card .btn{
    flex:0 0 auto;
    width:auto;
  }
}

/* extra stacking for very small devices */
@media (max-width:420px){
  .main-card td{
    flex-direction:column;
    align-items:flex-start;
  }
  .main-card td::before{
    width:auto;
    margin-bottom:6px;
  }
  .main-card .actions-wrap{
    width:100%;
  }
  .main-card .btn{
    width:100%;
    text-align:center;
    padding:10px;
  }
}

/* small touch helpers */
@media (max-width:480px){
  .info-card h1{font-size:18px;}
  .info-card{padding:16px;}
  .main-card{padding:14px;}
}

/* reduced-motion support */
@media (prefers-reduced-motion: reduce){
  *{transition:none!important;animation:none!important;scroll-behavior:auto!important;}
}

/* --- Light theme overrides (explicitly ensure elements remain visible in light mode) --- */
.theme-light .convo-page { color: var(--text); }
.theme-light .info-card{
  background: var(--card-bg);
  border: 1px solid var(--border-1);
  box-shadow: var(--shadow-soft);
}
.theme-light .info-card a{
  box-shadow: 0 6px 18px rgba(2,6,17,0.06);
}
.theme-light .main-card{
  background: var(--card-bg);
  border:1px solid var(--border-1);
  box-shadow: 0 10px 36px rgba(18,25,35,0.06);
  color: var(--text);
}
.theme-light .main-card thead th{
  background: transparent;
  color: var(--accent-warm-2);
  border-bottom:1px solid var(--border-1);
}
.theme-light .main-card td{
  color: var(--muted);
  border-bottom:1px solid var(--border-2);
}

/* Make the status row gradients softer on light theme to keep contrast readable */
.theme-light tr.open td{
  background: linear-gradient(180deg, rgba(230,245,236,0.85), rgba(255,255,255,0.9));
  color: var(--text);
}
.theme-light tr.closed td{
  background: linear-gradient(180deg, rgba(255,240,235,0.95), rgba(255,255,255,0.98));
  color: var(--text);
}

/* Buttons in light theme: darker text on warm backgrounds and visible outlines */
.theme-light .btn{
  box-shadow: 0 8px 20px rgba(18,25,35,0.04);
  color: var(--text);
  background: linear-gradient(180deg, rgba(255,255,255,0.96), rgba(255,255,255,0.98));
  border:1px solid var(--border-1);
}
.theme-light .btn-open{
  background: linear-gradient(90deg, var(--accent-warm), var(--accent-warm-2));
  color: #111;
  border: 0;
}
.theme-light .btn-view{
  background: linear-gradient(90deg, var(--accent-warm-red), var(--accent-warm));
  color: #111;
  border: 0;
}

/* Accessibility focus ring (theme-aware) */
.convo-page :focus{ outline: 3px solid rgba(255,184,77,0.12); outline-offset:3px; }
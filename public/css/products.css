/* products.css */

/* reset / base - non-invasive: DO NOT override body background (keep transparent) */
*{box-sizing:border-box;margin:0;padding:0;}
html,body{height:100%;margin:0;font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;color:var(--text);background:linear-gradient(180deg,var(--bg-start), var(--bg-end));}
a{color:inherit;text-decoration:none;}
img{max-width:100%;display:block;}

/* small helper tokens local to this file (based on global tokens) */
:root{
  --products-panel-gradient: linear-gradient(180deg,var(--panel-1),var(--panel-2));
  --products-card-border: var(--border-1, rgba(255,255,255,0.04));
  --notice-card-warning: linear-gradient(180deg, rgba(36,22,11,0.95), rgba(27,15,3,0.95));
}
.theme-light,
[data-theme="light"]{
  --notice-card-warning: linear-gradient(180deg, rgba(255, 137, 101, 0.95), rgba(243, 97, 44, 0.95));
}

/* layout container */
.container{width:100%;max-width:var(--max-width);margin:0 auto;padding:0 16px;}

/* ---------- header/hero ---------- */
.products-header{
  position:relative;width:100%;min-height:260px;padding:3rem 1rem;
  background: var(--products-panel-gradient), url("https://acko-cms.ackoassets.com/replace_fastag_complete_process_cfd124699f.jpg") no-repeat center center;
  background-size:cover;color:var(--text);text-align:center;display:flex;flex-direction:column;align-items:center;justify-content:center;overflow:hidden;
}
.products-header::before{content:"";position:absolute;inset:0;background:linear-gradient(180deg, rgba(11,11,12,0.6), rgba(6,6,6,0.6));z-index:1;}
.products-header h1,.products-header p{position:relative;z-index:2;margin:0;}
.products-header h1{font-size:2.2rem;font-weight:800;margin-bottom:.5rem;color:var(--accent-warm);text-shadow:0 8px 26px var(--accent-glow);}
.products-header p{font-size:1.05rem;color:var(--muted);}

/* ---------- Filters ---------- */
/* Allow dropdown to overflow card so native OS list isn't clipped */
.filters-card{ background: var(--products-panel-gradient); padding:18px; border-radius:var(--card-radius); box-shadow:var(--shadow-soft); border:1px solid var(--border-1); overflow: visible; }

/* visible overflow on section level too (prevents clipping) */
.filters-section{padding:20px 0 28px;background:transparent; overflow: visible;}

/* custom select base */
.bank-filter select,
.category-filter select,
select.product-select {
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  width:100%;
  padding:12px 44px 12px 14px;
  border-radius:10px;
  border:1px solid var(--products-card-border);
  background: linear-gradient(180deg,var(--panel-1),var(--panel-2));
  color:var(--text);
  font-size:15px;
  cursor:pointer;
  transition: border-color var(--transition-fast), box-shadow var(--transition-fast);
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 20 20'%3E%3Cpath fill='%23ffb84d' d='M5.5 7.5l4.5 4.5 4.5-4.5'/%3E%3C/svg%3E");
  background-repeat:no-repeat;
  background-position:right 12px center;
  background-size:18px 18px;
  z-index: 2000; /* ensure select itself is above background layers */
}

/* smaller browser niceties */
select::-ms-expand{display:none;}
.bank-filter select:focus,
.category-filter select:focus {
  outline:none;
  border-color:var(--accent-warm);
  box-shadow:0 0 0 6px rgba(255,184,77,0.04);
}

/* Try to style option colors for supporting browsers â€” note: some OS/browser combos ignore option background */
.bank-filter select option,
.category-filter select option,
select.product-select option {
  background: var(--panel-1);
  color: var(--text);
}

/* fallback when option backgrounds still appear white in native menu,
   we add a dark border / box shadow to the containing card so it looks consistent */
.filters-card::after{
  content:'';position:absolute;pointer-events:none;inset:0;border-radius:var(--card-radius);box-shadow:inset 0 1px 0 rgba(255,255,255,0.02);
}

/* search filter */
.filters-grid{display:grid;grid-template-columns:2fr 1fr 1fr;gap:1rem;align-items:center;}
.search-filter{position:relative;}
.search-filter i{position:absolute;left:12px;top:50%;transform:translateY(-50%);color:var((--text));font-size:1rem;}
.search-filter input{
  width:100%;padding:12px 12px 12px 40px;border:1px solid var(--border-2);
  border-radius:10px;font-size:16px;background:var(--products-panel-gradient);color:var(--text);
  transition:border-color var(--transition-fast),box-shadow var(--transition-fast);
}
.search-filter input::placeholder{color:var(--text);}
.search-filter input:focus{outline:none;border-color:var(--accent-warm);box-shadow:0 0 0 6px rgba(255,184,77,0.04);}

/* ---------- Availability / notice ---------- */
.availability-notice{padding:18px 0;background:transparent;}
.notice-card{
  background: linear-gradient(180deg, rgba(8,17,43,0.75), rgba(6,7,10,0.65));
  border:1px solid var(--products-card-border);
  border-radius:12px;padding:16px;color:var(--text);
}
.notice-card h3{color:var(--accent-warm);margin:0 0 8px 0;display:flex;align-items:center;gap:8px;}
.availability-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:12px;}
.bank-availability{display:flex;gap:10px;align-items:center;}
.bank-badge{padding:6px 12px;border-radius:999px;color:#fff;font-weight:700;font-size:.92rem;background:linear-gradient(90deg,var(--warm-red),var(--accent-warm));box-shadow:0 8px 20px rgba(255,184,77,0.06);}
.availability-text{color:var(--muted);font-weight:600;}

/* ---------- Products section ---------- */
.products-section{padding:40px 0 80px;background:transparent;}
.products-header-info{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;gap:12px;}
.products-header-info h2{font-size:2rem;margin:0;color:var(--accent-warm);font-weight:800;}
.results-count{color:var(--muted);}

/* grid */
.products-grid{
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap: 14px;
  align-items:start;
  width:100%;
  grid-auto-rows:minmax(180px,auto);
}
@media(min-width:860px){ .products-grid{ grid-template-columns:repeat(3,1fr); grid-auto-rows:minmax(200px,auto); } }
@media(min-width:1200px){ .products-grid{ grid-template-columns:repeat(4,1fr); grid-auto-rows:minmax(220px,auto); } }

/* ---------- Product card ---------- */
.product-card{
  background: var(--products-panel-gradient);
  border-radius:var(--card-radius);
  padding:10px;
  border:1px solid var(--products-card-border);
  box-shadow:var(--shadow-sm);
  transition: transform var(--transition-fast), box-shadow var(--transition-fast);
  cursor:pointer;display:flex;flex-direction:column;justify-content:space-between;align-items:stretch;min-height:200px;height:100%;box-sizing:border-box;overflow:hidden;
}
.product-card:hover{ transform:translateY(-6px); box-shadow:var(--shadow-lg); }

/* Image area - ensure neutral card-solid background so white image tiles don't leak */
.product-image-wrap{
  position:relative;border-radius:10px;overflow:hidden;
  background: var(--card-solid, var(--panel-1));
  width:100%;aspect-ratio:1/1;display:flex;align-items:center;justify-content:center;flex:0 0 auto;border:1px solid rgba(255,255,255,0.04);
}
.product-image-wrap img{
  width:100%;
  height:100%;
  object-fit:contain;
  display:block;
  filter: none;
  background-color: transparent;
  max-width: 85%;
  max-height: 85%;
}

/* overlay action */
.add-overlay{
  position:absolute;right:10px;bottom:10px;background:linear-gradient(90deg,var(--accent-warm),var(--accent-warm-2));
  color:#111;border:none;padding:8px 12px;border-radius:10px;font-weight:800;cursor:pointer;box-shadow:0 8px 22px rgba(255,184,77,0.08);z-index:3;
}

/* info */
.product-info{display:flex;flex-direction:column;justify-content:space-between;flex:1 1 auto;padding-top:12px;}
.product-info .cat-chip{font-size:.84rem;color:var(--text);background:rgba(255,184,77,0.06);padding:4px 8px;border-radius:6px;display:inline-block;font-weight:700;}
.bank-small{font-size:.82rem;color:var(--muted);}

/* title clamp */
.product-title{
  font-size:1.05rem;font-weight:800;margin:8px 0 6px;color:var(--text);line-height:1.15;
  display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden;text-overflow:ellipsis;
}

/* price */
.price{font-size:1.05rem;color:var(--accent-warm);font-weight:800;margin-top:8px;}

/* subtle bank accents (optional classes) */
.product-card.kotak{ box-shadow:0 10px 30px rgba(232, 93, 65, 0.278); border:3px solid rgba(255, 169, 151, 0.36);}
.product-card.sbi{ box-shadow:0 10px 30px rgba(154, 237, 255, 0.26); border:3px solid rgba(159, 255, 255, 0.37); }
.product-card.bajaj{ box-shadow:0 10px 30px rgba(62, 174, 255, 0.286); border:3px solid rgba(140, 219, 255, 0.401); }
.product-card.idfc{ box-shadow:0 10px 30px rgba(168, 76, 255, 0.279); border:3px solid rgba(211, 165, 255, 0.46); }

/* ---------- Product full-sheet ---------- */
.product-full-sheet{ position:fixed;inset:0;display:none;z-index:12000;pointer-events:auto;transition:opacity .22s ease;opacity:0;font-family:inherit; }
.product-full-sheet .sheet-backdrop{ position:absolute;inset:0;background:rgba(0,0,0,.55);backdrop-filter:blur(1px); }
.product-full-sheet .sheet-panel{
  position:absolute;left:0;right:0;bottom:0;height:82vh;max-height:92vh;background:var(--products-panel-gradient);
  border-top-left-radius:14px;border-top-right-radius:14px;transform:translateY(100%);transition:transform .32s cubic-bezier(.2,.9,.25,1);
  box-shadow:0 -18px 50px rgba(0,0,0,0.6);overflow:auto;-webkit-overflow-scrolling:touch;border:1px solid rgba(255,255,255,0.02);
}
.product-full-sheet.sheet-open{ display:block; opacity:1; }
.product-full-sheet.sheet-open .sheet-panel.panel-up{ transform:translateY(0%); }
.product-full-sheet .sheet-handle{ width:56px;height:6px;background:rgba(255,255,255,0.06);border-radius:999px;margin:10px auto 6px auto; }
.product-full-sheet .sheet-body{ padding:14px 18px 20px; }
.product-full-sheet .sheet-content{ display:flex; gap:18px; align-items:flex-start; padding-bottom:10px; }
.product-full-sheet .sheet-left{ flex:0 0 260px; max-width:280px; min-width:160px; }
.product-full-sheet .sheet-image-wrap{ width:100%; aspect-ratio:1/1; border-radius:12px; overflow:hidden; background:var(--card-solid); display:flex;align-items:center;justify-content:center;border:1px solid rgba(255,255,255,0.02); }
.product-full-sheet .sheet-image-wrap img{ width:100%; height:100%; object-fit:contain; }
.product-full-sheet .sheet-right{ flex:1 1 auto; min-width:0; }
.product-full-sheet .sheet-title{ margin:0 0 8px 0; font-size:1.1rem; font-weight:800; color:var(--text); }
.product-full-sheet .sheet-bank-cat{ color:var(--muted); margin-bottom:10px; font-size:.95rem; }
.product-full-sheet .sheet-meta-grid{ display:grid; grid-template-columns:1fr 1fr; gap:10px; margin-bottom:12px; font-size:.95rem; color:var(--muted); }
.product-full-sheet .sheet-price{ font-size:1.25rem; color:var(--accent-warm); font-weight:800; margin-bottom:12px; }
.product-full-sheet .sheet-desc{ color:var(--muted); margin-bottom:14px; }
.product-full-sheet .sheet-actions{ display:flex; gap:12px; align-items:center; margin-top:8px; }
.product-full-sheet .sheet-qty{ display:flex; gap:6px; align-items:center; }
.product-full-sheet .sheet-qty .qty-input{ width:70px; padding:8px; border-radius:8px; border:1px solid rgba(255,255,255,0.04); background:var(--card-solid); color:var(--text); text-align:center; }
.product-full-sheet .sheet-qty button{ padding:8px 10px; border-radius:8px; border:1px solid rgba(255,255,255,0.04); background:transparent; color:var(--text); cursor:pointer; }
.product-full-sheet .sheet-add{ background:linear-gradient(90deg,var(--accent-warm),var(--accent-warm-2)); color:#111; border:none; padding:10px 14px; border-radius:10px; cursor:pointer; font-weight:800; }
.product-full-sheet .sheet-close{ background:none; border:none; font-size:22px; cursor:pointer; color:var(--muted); position:absolute; right:18px; top:10px; }

/* ---------- skeleton, no-results, notices ---------- */
.loading-products{ display:grid; grid-template-columns:repeat(auto-fill,minmax(280px,1fr)); gap:18px; }
.product-skeleton{ background:var(--products-panel-gradient); border-radius:12px; padding:16px; animation:pulse 1.6s ease-in-out infinite; border:1px solid rgba(255,255,255,0.06); }
.skeleton-line{ height:12px; background:rgba(255,255,255,0.03); border-radius:6px; margin-bottom:10px; }
.skeleton-line.short{ width:40%; } .skeleton-line.medium{ width:75%; }
@keyframes pulse{ 0%,100%{opacity:1} 50%{opacity:.5} }

.no-results{text-align:center;padding:48px 16px;color:var(--muted);}
.no-results i{font-size:3rem;color:rgba(255,184,77,0.12);margin-bottom:10px;}
.no-results h3{font-size:1.4rem;color:var(--text);margin-bottom:8px;}

.notice-card.warning{ background:var(--notice-card-warning); border-color:rgba(252,211,77,0.06); }
.notice-card.warning h3{ color:var(--warm-red); }

/* responsive */
@media(max-width:1024px){ .products-header{ padding:2.25rem 1rem; min-height:200px; background-position:center; } .products-header h1{ font-size:1.9rem; } }
@media(max-width:768px){
  .filters-grid{grid-template-columns:1fr;gap:10px;}
  .products-header{padding:2rem 1rem;min-height:160px;background-position:top center;}
  .products-header h1{font-size:1.6rem;}
  .products-header-info{flex-direction:column;align-items:flex-start;gap:8px;}
  .product-full-sheet .sheet-panel{height:86vh;}
  .product-full-sheet .sheet-content{flex-direction:column;gap:12px;}
  .product-full-sheet .sheet-left{width:100%;max-width:100%;}
}
@media(max-width:580px){
  .product-card{padding:10px;border-radius:10px;}
  .products-section{padding:20px 0;}
  .product-full-sheet .sheet-panel{height:90vh;border-top-left-radius:12px;border-top-right-radius:12px;}
}

/* small utilities */
.filter-transition{transition:all .28s ease;}
.filter-transition.hiding{opacity:0;transform:scale(.98);}
.filter-transition.showing{opacity:1;transform:scale(1);}

/* accessibility / motion */
:focus{ outline: none; }
:focus-visible{ outline: 3px solid rgba(255,184,77,0.12); outline-offset:3px; border-radius:6px; }
@media (prefers-reduced-motion: reduce) {
  *{ animation-duration:0.001ms !important; animation-iteration-count:1 !important; transition-duration:0.001ms !important; }
  .product-card:hover{ transform:none !important; box-shadow:var(--shadow-sm) !important; }
  .product-full-sheet .sheet-panel{ transition:none !important; }
}

/* ---------- Light theme overrides ---------- */
.theme-light .products-header,
[data-theme="light"] .products-header { color: var(--text); }
.theme-light .products-header h1,
[data-theme="light"] .products-header h1 { color: var(--accent-warm); text-shadow: 0 6px 18px var(--accent-glow); }

.theme-light .filters-card,
[data-theme="light"] .filters-card,
.theme-light .product-card,
[data-theme="light"] .product-card,
.theme-light .product-skeleton,
[data-theme="light"] .product-skeleton {
  background: linear-gradient(180deg, var(--card-solid), #f6f8fa);
  color: var(--text);
}
.theme-light .product-image-wrap,
[data-theme="light"] .product-image-wrap {
  background: linear-gradient(180deg, #ffffff, #f2f4f7);
  border: 1px solid rgba(15,23,36,0.04);
}
.theme-light .product-title,
[data-theme="light"] .product-title { color: var(--text); }
.theme-light .product-info .cat-chip,
[data-theme="light"] .product-info .cat-chip {
  background: rgba(255,184,77,0.08);
  color: var(--accent-warm);
  box-shadow:none;
}
.theme-light .price,
[data-theme="light"] .price { color: var(--accent-warm); }

/* sheet overrides for light theme */
.theme-light .product-full-sheet .sheet-panel,
[data-theme="light"] .product-full-sheet .sheet-panel {
  background: linear-gradient(180deg, var(--card-solid), #f6f8fa);
  border:1px solid var(--border-1);
  color: var(--text);
  box-shadow: 0 -10px 28px rgba(18,25,35,0.04);
}
.theme-light .product-full-sheet .sheet-close,
[data-theme="light"] .product-full-sheet .sheet-close { color: var(--muted); }

/* nav-link active consistency */
.nav-link.active{ color:var(--accent-warm); font-weight:800; }

/* conversation.css */

/* ---------- THEME VARIABLES ---------- */
:root{
  --bg-dark: #0b0b0c;
  --panel-dark: #0f0f10;
  --panel-2: #141414;
  --text: #f3f3f3;
  --muted: #b0b0b0;
  --warm-yellow: #ffb84d;
  --warm-yellow-2: #ffcf73;
  --warm-red: #e85c41;
  --accent-glow: rgba(255,184,77,0.08);
  --card-radius: 14px;
  --shadow-soft: 0 10px 30px rgba(0,0,0,0.65);
  --glass-border: rgba(255,255,255,0.04);
}

/* ---------- BASE ---------- */
*{box-sizing:border-box;margin:0;padding:0;}
html,body{height:100%;}
body{
  font-family:"Segoe UI",Tahoma,Verdana,sans-serif;
  background: linear-gradient(180deg,var(--bg-dark) 0%, #070707 100%);
  color:var(--text);
  height:100vh;
  display:flex;
  flex-direction:column;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}

/* ---------- HEADER ---------- */
header{
  position:sticky;
  top:0;
  z-index:120;
  padding:12px 18px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  background: linear-gradient(90deg,#0b0b0b 0%, #141212 100%);
  color:var(--text);
  box-shadow:0 6px 18px rgba(0,0,0,0.6);
  border-bottom:1px solid var(--glass-border);
}

/* ---------- MAIN / LAYOUT ---------- */
main{flex:1;overflow-y:auto;padding:24px;display:flex;flex-direction:column;gap:20px;}

/* ticket containers */
#closedTicketsContainer,#openTicketContainer{display:flex;flex-direction:column;gap:20px;}

/* ---------- TICKET ---------- */
.ticket{
  border-radius:var(--card-radius);
  padding:18px;
  box-shadow:var(--shadow-soft);
  transition:transform .14s ease,box-shadow .14s ease;
  position:relative;
  overflow:visible;
  background: linear-gradient(180deg,#0f1011 0%, #161616 100%);
  border:1px solid var(--glass-border);
}

/* hover pop */
.ticket:hover{
  transform:translateY(-4px);
  box-shadow:0 20px 48px rgba(0,0,0,0.75);
}

/* closed / open variations */
#closedTicketsContainer .ticket{
  background: linear-gradient(rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05));
  border:1px solid rgb(255, 255, 255);
}

#openTicketContainer .ticket{
  background: linear-gradient(rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05));
  border:1px solid rgb(255, 255, 255);
}

.btn.btn-primary {
  display: inline-block;
  font-size: 13px !important;
  font-weight: 600;
  padding: 6px 14px !important;
  border-radius: 8px !important;
  border: 1px solid rgba(255, 255, 255, 0.332) !important;
  color: var(--text) !important;
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)) !important;
  text-decoration: none !important;
  cursor: pointer;
  box-shadow: 0 6px 16px rgba(0,0,0,0.3);
  transition: all 0.22s ease;
  width: auto;
}

.btn.btn-primary:hover {
  background: linear-gradient(90deg, var(--warm-yellow), var(--warm-yellow-2)) !important;
  color: #000 !important;
  border-color: transparent !important;
  transform: translateY(-2px);
  box-shadow: 0 12px 30px rgba(255,184,77,0.1);
}
/* ---------- STATUS PILL ---------- */
.ticket .status-pill{
  display:inline-block;
  padding:6px 10px;
  border-radius:999px;
  font-size:.8rem;
  font-weight:600;
  letter-spacing:.2px;
  background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));
  color:var(--warm-yellow);
  border:1px solid rgba(255,184,77,0.08);
  box-shadow:0 4px 10px rgba(0,0,0,0.6);
}

/* ---------- TICKET TEXT ---------- */
.ticket h4{font-size:1.05rem;color:var(--warm-yellow);margin-bottom:8px;font-weight:800;}
.ticket p{color:var(--muted);font-size:.96rem;margin-bottom:8px;line-height:1.45;}

/* replies area */
.ticket .replies{margin-top:12px;display:flex;flex-direction:column;gap:10px;}
#openThread{max-height:52vh;overflow-y:auto;padding-right:6px;display:flex;flex-direction:column;gap:10px;margin-top:10px;}

/* ---------- MESSAGE BUBBLES ---------- */
.message{
  min-width:64px;
  max-width:62%;
  padding:10px 12px 18px 12px;
  border-radius:12px;
  word-break:break-word;
  position:relative;
  font-size:.92rem;
  line-height:1.28;
  box-shadow:0 6px 18px rgba(0,0,0,0.6);
  transition:transform .08s ease;
  color:var(--text);
}

/* small shared adjustments for user/admin */
.message.user,.message.admin{padding:8px 12px 16px 12px;border-radius:12px;}

/* user message — warm, lighter text color */
.message.user{
  align-self:flex-end;
  background: linear-gradient(#fffb94, rgba(255, 255, 255, 0.175));
  color:#1b1200;
  border-left:4px solid rgba(255,184,77,0.85);
  border-top-right-radius:6px;
  box-shadow:0 10px 26px rgba(255,184,77,0.03);
}

/* admin message — dark panel with warm accent */
.message.admin{
  align-self:flex-start;
  background: linear-gradient(#f19d7b, rgba(255, 255, 255, 0.175));
  border-left:4px solid rgba(240, 86, 55, 0.85);
  color: #1b1200;
  border-top-left-radius:6px;
  box-shadow:0 10px 26px rgba(0,0,0,0.7);
}

/* smaller messages in closed tickets */
#closedTicketsContainer .replies .message{max-width:220px;margin-bottom:6px;}

/* message meta (timestamp etc.) */
.message .meta{
  position:absolute;
  bottom:6px;
  right:8px;
  font-size:0.68rem;
  color:rgba(243,243,243,0.55);
  background:transparent;
  padding:0 2px;
}

/* spacing helper for bubble tail */
.message::after{content:'';display:block;height:14px;}

/* ---------- REPLY FORM ---------- */
#replyForm{display:flex;gap:10px;align-items:center;margin-top:12px;}
#replyMessage{
  flex:1;
  min-height:42px;
  max-height:110px;
  resize:none;
  padding:10px 12px;
  border-radius:10px;
  border:1px solid rgba(255,255,255,0.04);
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  color:var(--text);
  font-size:.95rem;
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.02);
}

/* focus state for accessibility — warmer focus */
#replyMessage:focus{
  outline:none;
  border-color:rgba(255,184,77,0.95);
  box-shadow:0 10px 30px rgba(255,184,77,0.06);
}

/* reply button — warm primary */
#replyForm button{
  padding:10px 14px;
  border-radius:10px;
  border:none;
  font-weight:700;
  color:#111;
  background: linear-gradient(135deg,var(--warm-yellow),var(--warm-yellow-2));
  cursor:pointer;
  box-shadow:0 10px 30px rgba(255,184,77,0.12);
  transition:transform .12s ease,box-shadow .12s ease;
}

/* active and focus states */
#replyForm button:active{transform:translateY(1px);}
#replyForm button:focus,#replyMessage:focus{
  outline:3px solid rgba(255,184,77,0.12);
  outline-offset:2px;
}

/* ---------- RESPONSIVE ---------- */
@media(max-width:700px){
  .message{max-width:84%;font-size:0.9rem;}
  #openThread{max-height:40vh;}
  .ticket{padding:14px;border-radius:12px;}
}

/* small spacing tweak between tickets */
.ticket+.ticket{margin-top:6px;}

/* reduced motion preference */
@media (prefers-reduced-motion: reduce){
  *{transition:none!important;animation:none!important;scroll-behavior:auto!important;}
}